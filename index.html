<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      background-color: #000000;
    }

    .register {
      width: 1100px;
      /* height: 650px; */
      background-color: #ffffff;
      margin: 0 auto;
      overflow: hidden;
    }

    .container {
      width: 500px;
      margin: 30px auto;
      /* border: 1px solid red; */
      display: flex;
    }

    form {
      width: 100%;
    }

    form>p {
      color: #6f6f6f;
      margin: 10px 0;
    }

    form>h1 {
      padding-bottom: 20px;
      margin: 0;
      font-size: 20px;
      border-bottom: 1px solid #e7e7e7;
    }

    input {
      box-sizing: border-box;
      width: 100%;
      height: 36px;
      background-color: #f7f7f7;
      border: 1px solid #ffffff;
    }

    .ident-code {
      display: flex;
    }

    .generate-grap-ident {
      width: 120px;
      height: 36px;
      line-height: 36px;
      text-align: center;
      background-color: #ffffff;
    }

    .generate-phone-ident {
      width: 100px;
      height: 36px;
      line-height: 36px;
      background-color: #f84848;
      color: #ffffff;
    }

    .grap-ident-code,
    .phone-ident-code {
      flex: 1;
    }

    .reg-btn {
      width: 220px;
      height: 40px;
      line-height: 40px;
      background-color: #f84848;
      color: #ffffff;
      font-size: 18px;
    }
  </style>
</head>

<body>
  <div id="register" class="register">
    <div class="container">
      <form action="" method="post" onsubmit="return eg.regCheck();">
        <h1>注册</h1>
        <br/>
        <p>输入手机号或邮箱</p>
        <input type="text" name="user-id" id="user-id" />
        <p>姓名</p>
        <input type="text" name="user-name" id="user-name" />
        <p>密码</p>
        <input type="password" name="user-password" id="user-password" />
        <p>重复密码</p>
        <input type="password" name="user-pawd" id="user-password-again" />
        <p>输入图像验证码</p>
        <div class="ident-code">
          <input type="text" name="grap-ident-code" id="grap-ident-code" class="grap-ident-code">
          <input type="text" value="as56df" id="generate-grap-ident" class="generate-grap-ident">
        </div>
        <p>获取验证码</p>
        <div class="ident-code">
          <input type="text" name="phone-ident-code" id="phone-ident-code" class="phone-ident-code">
          <input type="submit" value="获取验证码" id="generate-phone-ident" class="generate-phone-ident">
        </div>
        <br/>
        <input type="submit" value="立即注册" id="reg-btn" class="reg-btn" />
      </form>
    </div>
  </div>
  <script>
    const eg = {};

    eg.$ = function (id) {
      return document.getElementById(id);
    }

    //验证
    eg.regCheck = function () {
      let uid = eg.$("user-id");
      let uname = eg.$("user-name");
      let upassword = eg.$("user-password");
      let upasswordagain = eg.$("user-password-again");
      let ugrapcode = eg.$("grap-ident-code");
      let genegrapcode = eg.$("generate-grap-ident");
      let uphonecode = eg.$("phone-ident-code");
      let genephonecode = eg.$("generate-phone-ident");

      if (uid.value === '') {
        alert('请输入手机号或邮箱');
        return false;
      }
      if (uname.value === '') {
        alert('姓名不能为空');
        return false;
      }
      if (upassword.value === '') {
        alert('密码不能为空');
        return false;
      }
      if (upasswordagain.value === '') {
        alert('请再输入一次密码');
        return false;
      }
      if (upassword.value !== upasswordagain.value) {
        alert('两次输入密码不相同');
        return false;
      }

      if (ugrapcode.value === '') {
        alert('请输入图形验证码');
        return false;
      }

      if (ugrapcode.value !== genegrapcode.value) {
        alert('请输入正确的图形验证码');
        return false;
      }

      // if (uphonecode.value === '') {
      //   alert('请输入验证码');
      //   return false;
      // }

      // if (uphonecode.value !== genephonecode.value) {
      //   alert('请输入正确的验证码');
      //   return false;
      // }


      // 账号验证
      let regEmail = /^[0-9a-zA-Z]+[0-9a-zA-Z_.]*@([0-9a-zA-Z]+[0-9a-zA-Z-]*\.)+[a-zA-Z]{2,4}$/;
      let regPhone = /^1\d{10}$/;
      let regEorP = /@/;
      if (regEorP.test(uid.value)) {
        if (!regEmail.test(uid.value)) {
          alert('请输入正确的邮箱');
          uid.focus();
          return false;
        }
      } else {
        if (!regPhone.test(uid.value)) {
          alert('请输入正确的手机号');
          uid.focus();
          return false;
        }
      }

      alert('注册成功');
      return true;
    };
  </script>
</body>

</html>