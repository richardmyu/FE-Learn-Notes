<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>有效的数独</title>
  </head>
  <body>
    <script>
      /*
      判断一个 9x9 的数独是否有效。只需要根据以下规则，验证已经填入的数字是否有效即可。

      数字 1-9 在每一行只能出现一次。
      数字 1-9 在每一列只能出现一次。
      数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。

      数独部分空格内已填入了数字，空白格用 '.' 表示。

      示例 1:

      输入:
      [
        ["5","3",".",".","7",".",".",".","."],
        ["6",".",".","1","9","5",".",".","."],
        [".","9","8",".",".",".",".","6","."],
        ["8",".",".",".","6",".",".",".","3"],
        ["4",".",".","8",".","3",".",".","1"],
        ["7",".",".",".","2",".",".",".","6"],
        [".","6",".",".",".",".","2","8","."],
        [".",".",".","4","1","9",".",".","5"],
        [".",".",".",".","8",".",".","7","9"]
      ]
      输出: true

      示例 2:

      输入:
      [
        ["8","3",".",".","7",".",".",".","."],
        ["6",".",".","1","9","5",".",".","."],
        [".","9","8",".",".",".",".","6","."],
        ["8",".",".",".","6",".",".",".","3"],
        ["4",".",".","8",".","3",".",".","1"],
        ["7",".",".",".","2",".",".",".","6"],
        [".","6",".",".",".",".","2","8","."],
        [".",".",".","4","1","9",".",".","5"],
        [".",".",".",".","8",".",".","7","9"]
      ]
      输出: false
      解释: 除了第一行的第一个数字从 5 改为 8 以外，空格内其他数字均与 示例1 相同。但由于位于左上角的 3x3 宫内有两个 8 存在, 因此这个数独是无效的。

      说明:

        一个有效的数独（部分已被填充）不一定是可解的。
        只需要根据以上规则，验证已经填入的数字是否有效即可。
        给定数独序列只包含数字 1-9 和字符 '.' 。
        给定数独永远是 9x9 形式的。
      */

      /**
       * @param {character[][]} board
       * @return {boolean}
       */
      var isValidSudoku = function(board) {
        let litterBlock = [];
        litterBlock[0] = [
          ...board[0].slice(0, 3),
          ...board[1].slice(0, 3),
          ...board[2].slice(0, 3)
        ];
        litterBlock[1] = [
          ...board[0].slice(3, 6),
          ...board[1].slice(3, 6),
          ...board[2].slice(3, 6)
        ];
        litterBlock[2] = [
          ...board[0].slice(6, 9),
          ...board[1].slice(6, 9),
          ...board[2].slice(6, 9)
        ];

        litterBlock[3] = [
          ...board[3].slice(0, 3),
          ...board[4].slice(0, 3),
          ...board[5].slice(0, 3)
        ];
        litterBlock[4] = [
          ...board[3].slice(3, 6),
          ...board[4].slice(3, 6),
          ...board[5].slice(3, 6)
        ];
        litterBlock[5] = [
          ...board[3].slice(6, 9),
          ...board[4].slice(6, 9),
          ...board[5].slice(6, 9)
        ];

        litterBlock[6] = [
          ...board[6].slice(0, 3),
          ...board[7].slice(0, 3),
          ...board[8].slice(0, 3)
        ];
        litterBlock[7] = [
          ...board[6].slice(3, 6),
          ...board[7].slice(3, 6),
          ...board[8].slice(3, 6)
        ];
        litterBlock[8] = [
          ...board[6].slice(6, 9),
          ...board[7].slice(6, 9),
          ...board[8].slice(6, 9)
        ];
        // 横
        for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 9; j++) {
            for (let k = j + 1; k < 9; k++) {
              if (
                board[i][j] === board[i][k] &&
                board[i][j] !== "." &&
                board[i][k] !== "."
              ) {
                return false;
              }
            }
          }
        }
        // 纵
        for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 9; j++) {
            for (let k = j + 1; k < 9; k++) {
              if (
                board[j][i] === board[k][i] &&
                board[j][i] !== "." &&
                board[k][i] !== "."
              ) {
                return false;
              }
            }
          }
        }
        // 3*3
        for (let i = 0; i < 9; i++) {
          for (let j = 0; j < 9; j++) {
            for (let k = j + 1; k < 9; k++) {
              if (
                litterBlock[i][j] === litterBlock[i][k] &&
                litterBlock[i][j] !== "." &&
                litterBlock[i][k] !== "."
              ) {
                return false;
              }
            }
          }
        }

        return true;
      };

      sd1 = [
        ["5", "3", ".", ".", "7", ".", ".", ".", "."],
        ["6", ".", ".", "1", "9", "5", ".", ".", "."],
        [".", "9", "8", ".", ".", ".", ".", "6", "."],
        ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
        ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
        ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
        [".", "6", ".", ".", ".", ".", "2", "8", "."],
        [".", ".", ".", "4", "1", "9", ".", ".", "5"],
        [".", ".", ".", ".", "8", ".", ".", "7", "9"]
      ];
      sd2 = [
        ["5", "3", ".", ".", "5", ".", ".", ".", "."],
        ["6", ".", ".", "1", "9", "5", ".", ".", "."],
        [".", "9", "8", ".", ".", ".", ".", "6", "."],
        ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
        ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
        ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
        [".", "6", ".", ".", ".", ".", "2", "8", "."],
        [".", ".", ".", "4", "1", "9", ".", ".", "5"],
        [".", ".", ".", ".", "8", ".", ".", "7", "9"]
      ];
      sd3 = [
        ["8", "3", ".", ".", "7", ".", ".", ".", "."],
        ["6", ".", ".", "1", "9", "5", ".", ".", "."],
        [".", "9", "8", ".", ".", ".", ".", "6", "."],
        ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
        ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
        ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
        [".", "6", ".", ".", ".", ".", "2", "8", "."],
        [".", ".", ".", "4", "1", "9", ".", ".", "5"],
        [".", ".", ".", ".", "8", ".", ".", "7", "9"]
      ];
      sd4 = [
        [".", ".", ".", ".", "5", ".", ".", "1", "."],
        [".", "4", ".", "3", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", "3", ".", ".", "1"],
        ["8", ".", ".", ".", ".", ".", ".", "2", "."],
        [".", ".", "2", ".", "7", ".", ".", ".", "."],
        [".", "1", "5", ".", ".", ".", ".", ".", "."],
        [".", ".", ".", ".", ".", "2", ".", ".", "."],
        [".", "2", ".", "9", ".", ".", ".", ".", "."],
        [".", ".", "4", ".", ".", ".", ".", ".", "."]
      ];
      console.log(isValidSudoku(sd1));
      console.log(isValidSudoku(sd2));
      console.log(isValidSudoku(sd3));
      console.log(isValidSudoku(sd4));
    </script>
  </body>
</html>
