<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>整数反转</title>
  </head>
  <body>
    <script>
      /*
      给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。

      示例 1:

      输入: 123
      输出: 321

      示例 2:

      输入: -123
      输出: -321

      示例 3:

      输入: 120
      输出: 21
      注意:

      假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−231,  231 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。
      */
      /**
       * @param {number} x
       * @return {number}
       */
      // 1
      var reverse = function(x) {
        const minNum = Math.pow(2, 31) * -1;
        const maxNum = Math.pow(2, 31) - 1;
        let reg = /0+$/;
        x = x.toString();
        if (reg.test(x)) {
          x = x.replace(/0+$/, "");
        }

        let fristStr = "";
        if (x[0] === "-") {
          fristStr = "-";
          x = x.slice(1);
        } else if (x[0] === "+") {
          fristStr = "+";
          x = x.slice(1);
        } else {
          fristStr = "";
        }
        let length = x.length;
        let ary = [];
        for (let i = 0; i < length; i++) {
          ary.push(x[i]);
        }
        let lang = Math.floor(length / 2);
        let str = "";
        let newStr = "";
        for (let i = 0; i < lang; i++) {
          if (ary[i] === ary[length - i - 1]) {
            continue;
          }
          str = ary[i];
          ary[i] = ary[length - i - 1];
          ary[length - i - 1] = str;
        }
        ary.forEach(item => (newStr = newStr + item));
        x = Number(fristStr + newStr);
        if (x < minNum || x > maxNum) {
          return 0;
        }
        return x;
      };

      console.log(reverse(123));
      console.log(reverse(-123));
      console.log(reverse(120));
    </script>
  </body>
</html>
