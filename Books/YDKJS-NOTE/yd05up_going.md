# 起步上路

## 1.深入编程

### 1.1.代码

程序常被称为 **源码** 或 **代码**，它是一组特定的指令，用来指示计算机要执行哪些任务。

指令的格式和组合规则被称为 **计算机语言**，有时也被称为 **语法**，这非常类似于英语中告诉你如何拼写单词以及如何使用单词和标点符号来构造有效的句子。

- **语句**

在计算机语言中，执行特定任务的一组单词、数字和运算符被称为语句。

在 JavaScript 中，一条语句可能如下所示：

```js
a = b * 2;
```

其中的字符 `a` 和 `b` 称为 **变量**，它们就好比是可以存放东西的小盒子。在程序
中，变量保存程序要使用的值（比如数字 42）。你可以将它们想象成值本身的替代符。
相比之下，2 本身就是一个值，称为 **字面值**，因为它独立存在而没有保存在变量之中。

其中的字符 `=` 和 `*` 是运算符，它们对值和变量执行动作，如赋值和进行乘法
运算。

JavaScript 的多数语句都是以分号（`;`）结尾的。

### 1.2.表达式

语句由一个或多个表达式组成。一个表达式是对一个变量或值的引用，或者是一组值和变
量与运算符的组合。

举例来说，`a = b * 2;` 这个语句中有四个表达式。

- `2` 是一个【字面值表达式】
- `b` 是一个【变量表达式】
- `b * 2` 是一个【算术表达式】
- `a = b * 2` 是一个【赋值表达式】

一个独立的表达式也可以称为表达式语句，如下所示：

```js
b * 2;
```

这种表达式语句不是很常用，或者说不是很有用，因为它通常不会对程序的运行起到任何
作用。

更常用的表达式语句是【调用表达式语句】，因为整个语句本身就是一个函数
调用表达式：

```js
alert(a);
```

- **执行程序**

对某些计算机语言来说，在程序被执行时，对命令的翻译通常是自上而下逐行执行的，这
通常被称为 **代码解释**。

对另外一些语言来说，这种翻译是预先进行的，被称为 **代码编译**，这样一来，当执行程序
时，实际上运行的是已经编译好的、可以执行的计算机指令。

基本上可以说 JavaScript 是 **解释型** 的，因为每次执行 JavaScript 源码时都需要进行处理。但这么说并不完全精确。JavaScript 引擎实际上是 **动态编译** 程序，然后立即执行编译后的代码。

### 1.3.运算符

使用运算符，我们可以对变量和值执行操作。

等号运算符 `=` 用于赋值——我们先计算 `=` 右边（源值）的值，然后将它存入左边（目标变量）指定的变量中。

> 虽然 `var` 严格意义上说并不是一个运算符，但每个程序都会用到这个关键词，因为它是声明（也就是创建）变量的基本方法。

### 1.4.值与类型

在编程术语中，对值的不同表示方法称为类型。JavaScript 为以下这些基本值提供了内置类型。

- 在计算时，你需要的是一个数字（`number`）。
- 在屏幕上打印一个值时，你需要的是一个字符串（`string`，一个或多个字符、单词或句子）。
- 在程序中作出决策时，你需要的是一个布尔值（`true` / `false`）。

直接包含在源码中的值被称为 **字面值**。字符串字面值由双引号（`"..."`）或单引号（`'…'`）围住，二者的唯一区别只是风格不同。数字和布尔型字面值可以直接表示（如 42、true 等）。

- **类型转换**

如果需要在屏幕上打印出一个数字，那么就需要将这个值转化为字符串，在 JavaScript 中，这种转化称为“类型转换”。

- 显式类型转换：主动调用某些内置函数来进行类型转换，如使用 `Number(..)`将任意类型转换为数字类型。
- 隐式类型转换：程序中涉及到比较的情况下，会自动进行类型转换，如 `99 == '99'`中会自动将字符串 `'99'` 转换为数字 99，再进行大小比较。

### 1.5.代码注释

编写代码并不只是为了给计算机看。在给计算机看的同时，代码同样要给开发者阅读。

计算机只关心机器码，也就是那些编译之后得到的二进制 0 和 1 序列。要想得到同样的 0 和 1 序列，几乎有无数种程序写法。而你选择的程序编写方案很重要，这不只是对你个人来说，对小组的其他成员，甚至对未来的你也同样很重要。

编写程序时不仅应该努力做到让程序能够正确执行，而且应该做到使代码阅读起来也是容
易理解的。

另一个非常重要的部分是代码注释。

有关如何编写注释良好的代码有很多种观点；我们确实无法定义绝对的普遍标准。但是以
下这些观察结论和指导原则是很有用的。

- 没有注释的代码不是最优的；

- 过多注释（比如每行一个）可能是拙劣代码的征兆；

- 代码应该解释为什么 (why)，而非是什么 (what)。如果编写的代码特别容易令人迷惑的话，那么注释也可以解释一下实现原理；

### 1.6.变量

大多数的实用程序都需要跟踪值的变化，因为程序在执行任务时会对值进行各种操作，值
会不断发生变化。

在程序中实现这一点的最简单方法是将值赋给一个符号容器，这个符号容器称为 **变量**，使用这个名字是因为这个容器中的值是可以变化的。

在某些编程语言中，你需要声明一个变量（容器）用于存放指定类型的值（如数字或字符
串）。通过避免不想要的值转换，人们认为这种 **静态类型**（也称为 **类型强制**）提高了程序的正确性。

其他语言强调的是值的类型而不是变量的类型。**弱类型**（也称为 **动态类型**）允许一个变量在任意时刻存放任意类型的值。这种方式允许一个变量在程序的逻辑流中的任意时刻代表任意类型的值，人们认为这样可以提高程序的灵活性。

JavaScript 采用了后一种机制——动态类型，这也就是说，变量可以持有任意类型值而不
存在类型强制。

> 变量的主要用途：*管理程序状态*。换句话说，状态跟踪了值随着程序运行的变化。

变量的另一个常见用法是集中设置值。更常见的说法是 **常量**，即声明一个变量，赋予一个特定值，然后这个值在程序执行过程中保持不变。

### 1.7.块

我们常常需要将在代码中的一系列语句组织到一起，这些语句通常被称为 **块**。

在 JavaScript 中，使用一对大括号 `{ .. }` 在一个或多个语句外来表示块。考虑：

```js
//一个通用的块
{
 amount = amount * 2;
 console.log( amount ); // 199.98
}
```

> 块语句不需要以分号（`;`）结尾。

### 1.8.条件判断

程序中有很多种方法可以用于表示条件判断（也就是决策）。最常用的是 `if` 语句。

除 `if` 之外，还有其他形式的条件判断。比如，`switch` 语句可以用作一组 `if..else` 语句的简写。循环通过一个条件判断来确定是继续还是停止。

### 1.9.循环

循环包括测试条件以及一个块（通常就是循环体 `{ .. }`）。循环块的每次执行被称为一个 **迭代**。

### 1.10.函数

程序也几乎总是需要将代码的任务分割成可复用的片段，而不是一直重复编码。实现这一点的方法就是定义一个 **函数**。

- **作用域**

在 JavaScript 中，每个函数都有自己的作用域（严格说是词法作用域）。作用域基本上是变量的一个集合以及如何通过名称访问这些变量的规则。只有函数内部的代码才能访问这个函数作用域中的变量。

### 1.12.小结

学习编程并不必然是复杂、费力的过程。你需要熟悉几个基本的概念。这些概念如同积木。要想构造高塔，首先要将积木一层层摞在一起。编程也是如此。以下是一些核心的编程积木块。

- 在值上执行动作需要【运算符】；
- 执行各种类型的动作需要【值和类型】；
- 在程序的执行过程中需要【变量】来保存数据（也就是状态）；
- 需要 `if` 这样的【条件判断】来作出决策；
- 需要【循环】来重复任务，直到不满足某个条件；
- 需要【函数】将代码组织为逻辑上可复用的块；

代码注释是编写可读代码的一种有效方法，能让你的代码更易于理解和维护，如果以后出
现问题的话也更加容易进行修复。

最后，不要忽略练习的威力，学习如何编写代码的最好方法就是不断编写代码。

## 2.深入 JavaScript

### 2.1.值与类型

在 JavaScript 中，只有值有类型；变量只是这些值的容器。

另外，注意 `a = undefined`。我们显式地将 `a` 的值设置为 `undefined`，但从行为上来说，这与这段代码最开始的 `var a` 这样还未赋值的变量是一样的。变量能够以几种不同的方式进入这样“未定义”值的状态，其中包括没有返回值的函数和使用 `void` 运算符。

#### 2.1.1.对象

对象类型是指一个组合值，你可以为其设置属性（命名的位置），每个属性可以持有属于自己的任意类型的值。

在 JavaScript 程序中，你还需要经常和其他两个值类型打交道：数组和函数。但你更应该将它们看作是对象类型的特殊子类型，而不是内置类型。

从理论上来说，你可以将数组当作普通的对象来使用，为其添加自己的命名属性，或者你也可以只为一个对象提供数字属性（0、1 等），就像数组一样使用它。但一般来说，这样使用这些类型是不合理的。最好的同时也是最自然的方法就是使用数字位置索引数组，通过命名属性使用对象。

函数也同样是对象的一个子类型，因为 `typeof` 返回 "function"，这意味着 `function` 是一个主类型，因此，`function` 可以拥有属性，但通常只在很少的情况下才会使用函数的对象属性（如 `foo.bar`）。

### 2.2.变量

### 2.3.条件判断

### 2.4.严格模式

### 2.5.作为值的函数

### 2.6.`this` 标识符

### 2.7.原型

### 2.8.新与旧

### 2.9.非 JavaScript

### 2.7.小结

## 3.深入 YDKJS 系列

### 3.1.作用域和闭包

### 3.2.`this` 和对象原型

### 3.3.类型和语法

### 3.4.异步和性能

### 3.5.ES6 及更新版本

### 3.6.小结
