# 事件驱动

事件驱动架构是一种用于设计应用的软件架构和模型。实际上，事件驱动模型还有另外一个名字：**io 多路复用**。

对于事件驱动系统而言，事件的 *捕获*、*通信*、*处理* 和 *持久保留* 是解决方案的核心结构。这和传统的请求驱动模型有很大不同。

许多现代应用都采用了事件驱动设计。事件驱动应用可以用任何一种编程语言来创建，因为事件驱动本身是一种编程方法，而不是一种编程语言。事件驱动架构可以最大程度减少耦合度，因此是现代化分布式应用架构的理想之选。

事件驱动架构采用松散耦合方式，因为事件发起者并不知道哪个事件使用者在监听事件，而且事件也不知道其所产生的后续结果。

## 1.什么是事件

事件是指系统硬件或软件的状态出现任何重大改变。事件与事件通知不同，后者是指系统发送的消息或通知，用于告知系统的其他部分有相应的事件发生。

而事件的来源可以是内部或外部输入。事件可以来自用户（例如点击鼠标或按键）、外部源（例如传感器输出）或系统（例如加载程序）。

## 2.事件驱动架构的工作原理

事件驱动架构由事件发起者和事件使用者组成。事件的发起者会检测或感知事件，并以消息的形式来表示事件。它并不知道事件的使用者或事件引起的结果。

检测到事件后，系统会通过事件通道从事件发起者传输给事件使用者，而事件处理平台则会在该通道中以异步方式处理事件。事件发生时，需要通知事件使用者。他们可能会处理事件，也可能只是受事件的影响。

事件处理平台将对事件做出正确响应，并将活动下发给相应的事件使用者。通过这种下发活动，我们就可以看到事件的结果。

## 3.事件驱动架构模型

事件驱动架构可以基于发布/订阅模型或事件流模型。

- **发布/订阅模型**

这是一种基于事件流订阅的消息传递基础架构。对于该模型而言，在事件发生或公布之后，系统会将相应的消息发送给需要通知的订阅用户。

- **事件流模型**

借助事件流模型，事件将被写入日志。事件使用者无需订阅事件流。相反，它们可以从流的任何部分读取并随时加入流。

事件流有几种不同的类型：

- 事件流处理使用诸如 Apache Kafka 等数据流平台来提取事件并处理或转换事件流。事件流处理可用于检测事件流中有用的模式。
- 简单事件处理是指事件立即在事件使用者中触发操作。
- 复杂事件处理则需要事件使用者处理一系列事件以检测模式。

## 4.事件驱动型构的优势

事件在其事件源（如物联网（IoT）设备、应用和网络）发生时即被捕获，因此事件发起者和事件使用者可实时共享状态和响应信息。

参考：

1.[什么是事件驱动架构？](https://www.redhat.com/zh/topics/integration/what-is-event-driven-architecture)

[事件驱动模式详解](https://www.infoq.cn/article/event-sourcing)

[事件驱动架构的优势](https://developer.ibm.com/zh/technologies/messaging/articles/advantages-of-an-event-driven-architecture/)

[在JavaScript 和 Node.js 中什么是“事件驱动”？](https://www.html.cn/web/javascript/16493.html)
